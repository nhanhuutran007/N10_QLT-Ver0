<Window x:Class="QLKDPhongTro.Presentation.Views.Windows.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Đăng Nhập - Quản Lý Phòng Trọ"
        MinHeight="600"
        MinWidth="800"
        Height="700"
        Width="1200"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#F5F5F5"
        AllowsTransparency="False"
        FontFamily="Roboto"
        Icon="/Resources/Images/Logo.png">

    <Window.Resources>
        <!-- ... (Toàn bộ phần Style không thay đổi, đã được làm tốt) ... -->
        <Style x:Key="InputTextBoxStyle" TargetType="TextBox">
            <Setter Property="Height" Value="50"/>
            <Setter Property="Background" Value="#F2F6FA"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#3B4758"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" CornerRadius="6" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#319DFF"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" Color="#319DFF" Opacity="0.3" BlurRadius="5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="InputPasswordBoxStyle" TargetType="PasswordBox">
            <Setter Property="Height" Value="50"/>
            <Setter Property="Background" Value="#F2F6FA"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#3B4758"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border" CornerRadius="6" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#319DFF"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" Color="#319DFF" Opacity="0.3" BlurRadius="5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Height" Value="48"/>
            <Setter Property="Background" Value="#319DFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#57B3FF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FeatureItemStyle" TargetType="Grid">
            <Setter Property="Margin" Value="0,12"/>
        </Style>
        <Style x:Key="FeatureTitleStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="16"/>
        </Style>
        <Style x:Key="FeatureDescriptionStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Opacity" Value="0.9"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="173*" MinWidth="400"/>
            <ColumnDefinition Width="428*"/>
            <ColumnDefinition Width="600*" MinWidth="400"/>
        </Grid.ColumnDefinitions>

        <!-- === CỘT TRÁI: PHẦN GIỚI THIỆU (Đã cập nhật logo) === -->
        <Grid Grid.Column="0" Grid.ColumnSpan="2">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#2764FF" Offset="0.0" />
                    <GradientStop Color="#0B459B" Offset="1.0" />
                </LinearGradientBrush>
            </Grid.Background>

            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Margin="80,0,80,0">

                <!-- *** PHẦN ĐÃ SỬA: THAY THẾ BORDER BẰNG IMAGE DUY NHẤT *** -->
                <!-- QUAN TRỌNG: Hãy chắc chắn rằng file logo mới của bạn được đặt đúng đường dẫn này -->

                <!-- QUAN TRỌNG: Hãy chắc chắn rằng file logo mới của bạn được đặt đúng đường dẫn này -->
                <Image Source="/Resources/Images/Logo.png" 
                       Width="140" Height="167" 
                       />
                <TextBlock Text="Hệ thống Quản lý Thuê Nhà " 
                           Foreground="White" FontSize="30                            " FontWeight="Bold" 
                           TextWrapping="Wrap" TextAlignment="Left" 
                           Width="429" Height="34"/>

                <StackPanel>
                    <!-- Toàn bộ các mục tính năng giữ nguyên như cũ -->
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Quản lý phòng &amp; tài sản" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Theo dõi danh sách nhà, phòng, tình trạng thuê (trống, đang thuê), và thông tin tài sản chi tiết." Style="{StaticResource FeatureDescriptionStyle}"/>
                        </StackPanel>
                    </Grid>
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Quản lý người thuê" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Lưu thông tin cá nhân, hợp đồng, tình trạng thuê; nhắc nhở khi đến hạn trả phòng hoặc hết hạn hợp đồng." Style="{StaticResource FeatureDescriptionStyle}"/>
                        </StackPanel>
                    </Grid>
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Quản lý tài chính" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Ghi nhận tiền thuê, chi phí điện nước, internet; tự động tổng hợp công nợ và lợi nhuận hàng tháng." Style="{StaticResource FeatureDescriptionStyle}"/>
                        </StackPanel>
                    </Grid>
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Thanh toán &amp; thông báo phí" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Tạo biên lai, gửi thông báo phí kèm mã QR, nhắc nợ qua email/Zalo." Style="{StaticResource FeatureDescriptionStyle}"/>
                        </StackPanel>
                    </Grid>
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Bảo trì &amp; sự cố" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Tiếp nhận yêu cầu sửa chữa, theo dõi tiến độ và chi phí bảo trì." Style="{StaticResource FeatureDescriptionStyle}"/>
                        </StackPanel>
                    </Grid>
                    <Grid Style="{StaticResource FeatureItemStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="10" Height="10" Fill="White" Margin="0,6,12,0" VerticalAlignment="Top"/>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Báo cáo &amp; thống kê" Style="{StaticResource FeatureTitleStyle}"/>
                            <TextBlock Text="Xuất báo cáo chi tiết về doanh thu, công nợ, tình trạng phòng, hỗ trợ quyết định kinh doanh." Style="{StaticResource FeatureDescriptionStyle}"/>
                    </StackPanel>
                    </Grid>
                </StackPanel>
                </StackPanel>
            </Grid>

        <!-- === CỘT PHẢI: FORM ĐĂNG NHẬP USER/PASS (Giữ nguyên) === -->
        <Grid Grid.Column="2" Background="#F9FAFB">
            <StackPanel Width="400" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                <TextBlock Text="Đăng Nhập"
                           Foreground="#3B4758"
                           FontSize="28"
                           FontWeight="Bold"
                           Margin="0,0,0,32"
                           HorizontalAlignment="Center"/>

                <TextBlock Text="Tên đăng nhập" Foreground="#3B4758" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <TextBox x:Name="EmailTextBox" Style="{StaticResource InputTextBoxStyle}" Margin="0,0,0,20" KeyDown="EmailTextBox_KeyDown"/>

                <TextBlock Text="Mật khẩu" Foreground="#3B4758" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,8"/>
                <PasswordBox x:Name="PasswordBox" Style="{StaticResource InputPasswordBoxStyle}" Margin="0,0,0,20" KeyDown="PasswordBox_KeyDown"/>

                <Grid Margin="0,0,0,32">
                    <CheckBox x:Name="ShowPasswordCheckBox" Content="Hiển thị mật khẩu" Foreground="#3B4758" FontSize="14" VerticalAlignment="Center" HorizontalAlignment="Left" Cursor="Hand" Checked="ShowPasswordCheckBox_Checked" Unchecked="ShowPasswordCheckBox_Unchecked"/>
                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Hyperlink Foreground="#319DFF" FontSize="14" Cursor="Hand" Click="ForgotPassword_Click">
                            Quên mật khẩu?
                        </Hyperlink>
                    </TextBlock>
                </Grid>

                <Button x:Name="LoginButton" Content="Đăng Nhập" Style="{StaticResource PrimaryButtonStyle}" Margin="0,0,0,20" Click="LoginButton_Click"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="Chưa có tài khoản?" Foreground="#586A84" FontSize="14"/>
                    <TextBlock Margin="5,0,0,0">
                        <Hyperlink Foreground="#319DFF" FontSize="14" Cursor="Hand" Click="CreateAccount_Click">
                            Tạo mới
                        </Hyperlink>
                    </TextBlock>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>