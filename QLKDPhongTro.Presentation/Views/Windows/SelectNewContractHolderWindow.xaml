<Window x:Class="QLKDPhongTro.Presentation.Views.Windows.SelectNewContractHolderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chá»n ngÆ°á»i Ä‘á»©ng tÃªn há»£p Ä‘á»“ng má»›i" 
        Height="500" 
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        FontFamily="Segoe UI">

    <Window.Resources>
        <SolidColorBrush x:Key="TextPrimary" Color="#111827"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#6B7280"/>
        <SolidColorBrush x:Key="BorderColor" Color="#E5E7EB"/>
        <SolidColorBrush x:Key="BackgroundCard" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="PrimaryColor" Color="#3B82F6"/>
        <SolidColorBrush x:Key="PrimaryDarkColor" Color="#2563EB"/>
        <SolidColorBrush x:Key="WarningBackground" Color="#FEF3C7"/>
        <SolidColorBrush x:Key="WarningBorder" Color="#F59E0B"/>
        <DropShadowEffect x:Key="CardShadow" Color="#000000" Direction="270" ShadowDepth="5" Opacity="0.12" BlurRadius="18"/>

        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border Margin="20">
        <Border.Effect>
            <DropShadowEffect Color="Black" Direction="270" ShadowDepth="4" Opacity="0.18" BlurRadius="30"/>
        </Border.Effect>
        <Border Background="White" CornerRadius="18" ClipToBounds="True">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <Border Grid.Row="0" Background="#EFF6FF" Padding="24,20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“‹" FontSize="24" Margin="0,0,12,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Chá»n ngÆ°á»i Ä‘á»©ng tÃªn há»£p Ä‘á»“ng má»›i" 
                                       FontSize="20" FontWeight="Bold" 
                                       Foreground="{StaticResource PrimaryColor}" 
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                        <Button Content="âœ•" Width="32" Height="32" Background="Transparent" 
                                BorderBrush="Transparent" FontSize="16" Cursor="Hand" 
                                Click="CloseButton_Click" Grid.Column="1"
                                Style="{StaticResource RoundedButtonStyle}"/>
                    </Grid>
                </Border>

                <!-- Content -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="24">
                        <!-- ThÃ´ng bÃ¡o -->
                        <Border Background="{StaticResource WarningBackground}" 
                                BorderBrush="{StaticResource WarningBorder}" 
                                BorderThickness="2" 
                                CornerRadius="8" 
                                Padding="16" 
                                Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="âš ï¸ LÆ¯U Ã" 
                                           FontSize="16" FontWeight="Bold" 
                                           Foreground="#92400E" 
                                           Margin="0,0,0,8"/>
                                <TextBlock TextWrapping="Wrap" 
                                           FontSize="14" 
                                           Foreground="#78350F" 
                                           LineHeight="22">
                                    <Run Text="NgÆ°á»i thuÃª vá»«a bá»‹ xÃ³a lÃ  ngÆ°á»i Ä‘á»©ng tÃªn há»£p Ä‘á»“ng cá»§a phÃ²ng nÃ y." FontWeight="SemiBold"/>
                                    <LineBreak/>
                                    <LineBreak/>
                                    <Run Text="Vui lÃ²ng chá»n má»™t trong nhá»¯ng ngÆ°á»i thuÃª cÃ²n láº¡i Ä‘á»ƒ lÃ m ngÆ°á»i Ä‘á»©ng tÃªn há»£p Ä‘á»“ng má»›i."/>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- Danh sÃ¡ch ngÆ°á»i thuÃª -->
                        <TextBlock Text="Danh sÃ¡ch ngÆ°á»i thuÃª cÃ²n láº¡i:" 
                                   FontSize="16" FontWeight="SemiBold" 
                                   Foreground="{StaticResource TextPrimary}" 
                                   Margin="0,0,0,12"/>

                        <ListBox x:Name="TenantsListBox" 
                                 SelectionMode="Single"
                                 BorderBrush="{StaticResource BorderColor}"
                                 BorderThickness="1"
                                 Background="White"
                                 MaxHeight="250">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="White" 
                                            BorderBrush="{StaticResource BorderColor}" 
                                            BorderThickness="0,0,0,1" 
                                            Padding="16,12"
                                            Margin="0,0,0,4"
                                            CornerRadius="6">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <RadioButton Grid.Column="0" 
                                                         IsChecked="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}, Mode=TwoWay}"
                                                         Margin="0,0,12,0"
                                                         VerticalAlignment="Center"/>
                                            <StackPanel Grid.Column="1">
                                                <TextBlock Text="{Binding HoTen}" 
                                                           FontSize="16" FontWeight="SemiBold" 
                                                           Foreground="{StaticResource TextPrimary}"/>
                                                <TextBlock Text="{Binding SoDienThoai}" 
                                                           FontSize="14" 
                                                           Foreground="{StaticResource TextSecondary}"
                                                           Margin="0,4,0,0"/>
                                            </StackPanel>

                                            <!-- ÄÃƒ Sá»¬A: Bá»c TextBlock trong Border Ä‘á»ƒ dÃ¹ng CornerRadius -->
                                            <Border Grid.Column="2" 
                                                    Background="#D1FAE5" 
                                                    CornerRadius="4" 
                                                    Padding="8,4"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Right">
                                                <TextBlock Text="Äang á»Ÿ" 
                                                           FontSize="12" 
                                                           Foreground="#059669"/>
                                            </Border>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </ScrollViewer>

                <!-- Footer -->
                <Border Grid.Row="2" Background="#F9FAFB" Padding="24,16">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button Content="Há»§y" Width="120" Height="40" 
                                Background="White" Foreground="{StaticResource TextPrimary}" 
                                BorderBrush="{StaticResource BorderColor}" BorderThickness="1"
                                Cursor="Hand" Click="CancelButton_Click"
                                Margin="0,0,12,0"
                                Style="{StaticResource RoundedButtonStyle}"/>

                        <!-- ÄÃƒ Sá»¬A: XÃ³a thuá»™c tÃ­nh Style á»Ÿ dÃ²ng nÃ y Ä‘á»ƒ trÃ¡nh trÃ¹ng láº·p -->
                        <Button x:Name="ConfirmButton" 
                                Content="XÃ¡c nháº­n" Width="140" Height="40" 
                                Background="{StaticResource PrimaryColor}" 
                                Foreground="White"
                                Cursor="Hand" Click="ConfirmButton_Click"
                                BorderThickness="0"
                                IsEnabled="False">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource RoundedButtonStyle}">
                                    <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter Property="Background" Value="#D1D5DB"/>
                                            <Setter Property="Foreground" Value="#9CA3AF"/>
                                            <Setter Property="Cursor" Value="No"/>
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource PrimaryDarkColor}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>
    </Border>
</Window>